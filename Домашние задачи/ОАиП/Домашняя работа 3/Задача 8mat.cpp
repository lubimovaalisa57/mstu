#include <iostream>

int main() 
{
    double A[3][3] = {
        {3, -1, 2},
        {2, 4, -1},
        {1, -3, 1}
    };
    
    double B[3] = {5, 6, 4};
    
    // Вычисляем определитель основной матрицы
    double detA = A[0][0]*(A[1][1]*A[2][2] - A[1][2]*A[2][1])
                - A[0][1]*(A[1][0]*A[2][2] - A[1][2]*A[2][0])
                + A[0][2]*(A[1][0]*A[2][1] - A[1][1]*A[2][0]);
    
    // Вычисляем определитель для x
    double detX = B[0]*(A[1][1]*A[2][2] - A[1][2]*A[2][1])
                - A[0][1]*(B[1]*A[2][2] - A[1][2]*B[2])
                + A[0][2]*(B[1]*A[2][1] - A[1][1]*B[2]);
    
    // Вычисляем определитель для y
    double detY = A[0][0]*(B[1]*A[2][2] - A[1][2]*B[2])
                - B[0]*(A[1][0]*A[2][2] - A[1][2]*A[2][0])
                + A[0][2]*(A[1][0]*B[2] - B[1]*A[2][0]);
    
    // Вычисляем определитель для z
    double detZ = A[0][0]*(A[1][1]*B[2] - B[1]*A[2][1])
                - A[0][1]*(A[1][0]*B[2] - B[1]*A[2][0])
                + B[0]*(A[1][0]*A[2][1] - A[1][1]*A[2][0]);
    
    double x = detX / detA;
    double y = detY / detA;
    double z = detZ / detA;
    
    std::cout << "Решение системы:" << std::endl;
    std::cout << "x = " << x << std::endl;
    std::cout << "y = " << y << std::endl;
    std::cout << "z = " << z << std::endl;
    
    std::cout << "Проверка:" << std::endl;
    std::cout << "1 уравнение: " << 3*x << " - " << y << " + " << 2*z << " = " << 3*x - y + 2*z << " (должно быть 5)" << std::endl;
    std::cout << "2 уравнение: " << 2*x << " + " << 4*y << " - " << z << " = " << 2*x + 4*y - z << " (должно быть 6)" << std::endl;
    std::cout << "3 уравнение: " << x << " - " << 3*y << " + " << z << " = " << x - 3*y + z << " (должно быть 4)" << std::endl;
    
    return 0;
}